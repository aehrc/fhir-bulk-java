# This workflow:
# - Creates a draft release
# This is only run when a version tag is pushed.

name: Draft Release
on:
  push:
    tags:
      - "v**"
jobs:
   draft-release:
    name: Draft GitHub release
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
      - name: Extract tag name
        id: extract_tag
        run: echo "TAG_NAME=$(echo ${GITHUB_REF#refs/tags/})" >> $GITHUB_ENV
      - name: Create release
        uses: softprops/action-gh-release@v2
        with:
          tag_name: ${{ env.TAG_NAME }}
          name: ${{ env.TAG_NAME }}
          draft: true
          prerelease: false
